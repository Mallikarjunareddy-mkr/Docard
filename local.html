<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Docard - Local Storage</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
</head>
<body>
  <!-- Top Bar: Storage & Settings -->
  <header class="local-header">
    <div class="storage-info" id="storageInfo">Used: 0 MB / Total: 100 MB</div>
    <div class="top-toolbar">
      <button onclick="openSettings()" title="Settings">
        <span class="material-symbols-outlined">settings</span>
      </button>
    </div>
  </header>

  <!-- Folder Path -->
  <div id="breadcrumb-wrapper">
    <div id="breadcrumb"></div>
  </div>

  <!-- File Manager Area -->
  <main class="main-content">
    <div id="fileArea"></div>
  </main>

  <!-- Floating Button (Add/Upload) -->
  <div id="fabMenu" class="fab" onclick="fabAction()" title="Add File/Folder">
    <span class="material-symbols-outlined" id="fabBtn">add</span>
  </div>

  <!-- File Operations Menu -->
  <div id="fileOperations">
    <button onclick="previewSelected()"><span class="material-symbols-outlined">visibility</span> Preview</button>
    <button onclick="renameSelected()"><span class="material-symbols-outlined">edit</span> Rename</button>
    <button onclick="downloadSelected()"><span class="material-symbols-outlined">download</span> Download</button>
    <button onclick="confirmDeleteSelected()"><span class="material-symbols-outlined">delete</span> Delete</button>
    <button onclick="cancelSelection()"><span class="material-symbols-outlined">close</span> Cancel</button>
  </div>

  <!-- File Upload Input -->
  <input type="file" id="fileInput" style="display:none" multiple onchange="handleFileUpload(event)">

  <!-- Modals -->
  <div id="previewModal" class="modal" onclick="closePreview(event)">
    <div id="previewContent">
      <button id="previewClose" onclick="closePreview(event)">&times;</button>
    </div>
  </div>

  <div id="detailsModal" class="modal">
    <div id="detailsContent">
      <button onclick="closeDetailsModal()">&times;</button>
      <div id="detailsContentInner"></div>
    </div>
  </div>

  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <h3>Settings</h3>
      <p id="modalStorageInfo">Used: 0 MB / Total: 100 MB</p>
      <button onclick="toggleTheme()" id="themeIcon"><span class="material-symbols-outlined">light_mode</span> Toggle Theme</button>
      <button onclick="closeSettings()">Close</button>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script src="script.js"></script>
</body>
</html>
