<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Docard - Local Storage</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@400;600" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="logo">Docard</div>
    <div class="toolbar">
      <button onclick="toggleTheme()"><span id="themeIcon" class="material-symbols-outlined">light_mode</span></button>
      <button onclick="openHelpModal()"><span class="material-symbols-outlined">help</span></button>
      <button onclick="openSettings()"><span class="material-symbols-outlined">settings</span></button>
      <a href="index.html"><span class="material-symbols-outlined">home</span></a>
    </div>
  </header>

  <!-- Dashboard -->
  <main class="page active" id="localDashboard">
    <div class="card">
      <h3>Local Storage</h3>
      <p id="storageInfo">Used: 0 / Total: 100 MB</p>
      <button class="home-btn" onclick="openLocalFileManager()">Open File Manager</button>
    </div>
  </main>

  <!-- File Manager -->
  <main class="page" id="localPage">
    <div class="filters">
      <button id="filterImages" class="filter-btn" onclick="filterFiles('images')">Images</button>
      <button id="filterDocs" class="filter-btn" onclick="filterFiles('documents')">Docs</button>
      <button id="filterVideos" class="filter-btn" onclick="filterFiles('videos')">Videos</button>
      <button id="filterOthers" class="filter-btn" onclick="filterFiles('others')">Others</button>
      <button onclick="clearFilters()">Clear</button>
    </div>
    <div id="breadcrumb" class="breadcrumb"></div>
    <div id="fileArea"></div>
    <input type="file" id="fileInput" multiple style="display:none" onchange="handleFileUpload(event)">

    <div id="fabBtn" class="fab" onclick="fabAction()">
      <span class="material-symbols-outlined">add</span>
    </div>

    <!-- FAB Menu -->
    <div id="fabMenu" class="fab-menu">
      <button onclick="createFolder()">New Folder</button>
      <button onclick="uploadFile()">Upload File</button>
    </div>

    <!-- File Operations -->
    <div id="fileOperations" class="fab-menu">
      <button onclick="previewSelected()">Preview</button>
      <button onclick="renameSelected()">Rename</button>
      <button onclick="downloadSelected()">Download</button>
      <button onclick="confirmDeleteSelected()">Delete</button>
      <button onclick="cancelSelection()">Cancel</button>
    </div>
  </main>

  <!-- Preview Modal -->
  <div id="previewModal" class="modal" onclick="closePreview(event)">
    <div class="modal-content">
      <span id="previewClose" class="close" onclick="closePreview()">&times;</span>
      <div id="previewContent"></div>
    </div>
  </div>

  <!-- Details Modal -->
  <div id="detailsModal" class="modal">
    <div class="modal-content">
      <span onclick="closeDetailsModal()" class="close">&times;</span>
      <div id="detailsContent"></div>
    </div>
  </div>

  <!-- Help Modal -->
  <div id="helpModal" class="modal">
    <div class="modal-content">
      <span onclick="closeHelpModal()" class="close">&times;</span>
      <h2>Help</h2>
      <p>Use the filters to view specific file types. You can create folders, upload files, and manage them fully.</p>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <span onclick="closeSettings()" class="close">&times;</span>
      <h2>Settings</h2>
      <p id="modalStorageInfo">Used: 0 / Total: 100 MB</p>
    </div>
  </div>

  <div id="toast"></div>
  <script src="script.js"></script>
</body>
</html>
