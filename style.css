:root {
    --color-primary: #1976d2;
    --color-primary-dark: #1565c0;
    --color-accent: #00bcd4;
    --color-bg: #f5f7fa;
    --color-bg-dark: #181825;
    --color-card: #fff;
    --color-card-dark: #232436;
    --color-text: #222;
    --color-text-dark: #e3eafc;
    --color-muted: #666;
    --color-muted-dark: #b3b9cc;
    --color-border: #bbb;
    --color-border-dark: #3a3c52;
    --shadow: 0 2px 8px rgba(0,0,0,0.08);
    --radius: 12px;
    --transition: .2s;
    --header-height: 56px;
}
body {
    margin:0;
    font-family:'Roboto', Arial, sans-serif;
    background: var(--color-bg);
    color: var(--color-text);
    transition: background .3s, color .3s;
}
body.dark {
    background: var(--color-bg-dark);
    color: var(--color-text-dark);
}
.page { display:none; }
.page.active { display:block; animation:fadeIn .5s;}
@keyframes fadeIn {from{opacity:0;} to{opacity:1;}}

header {
    height: var(--header-height);
    display:flex;
    align-items:center;
    gap:10px;
    padding:0 20px;
    background:var(--color-card);
    box-shadow:var(--shadow);
    position:sticky;
    top:0; z-index:10;
    transition: background .3s, color .3s;
}
body.dark header { background: var(--color-card-dark); color:var(--color-text-dark);}
.toolbar {margin-left:auto; display:flex;align-items:center;gap:10px;}
.toolbar button {
    background:none; border:none; color:var(--color-primary);
    padding:6px 10px; border-radius:20px; font-size:20px; cursor:pointer;
    transition: background var(--transition);
}
.toolbar button:hover { background: #e3f2fd;}
body.dark .toolbar button { color:var(--color-accent); }
body.dark .toolbar button:hover { background: #21243a; color:var(--color-primary-dark); }

#sidebar {
    position:fixed; left:0; top:var(--header-height); 
    width:220px; height:calc(100% - var(--header-height));
    background:var(--color-card); box-shadow: 2px 0 8px rgba(0,0,0,0.06);
    display:flex; flex-direction:column; gap:2px; z-index:10;
    transition: background .3s;
}
body.dark #sidebar { background: var(--color-card-dark);}
#sidebar button {
    background:none; border:none; text-align:left;
    padding:16px 24px; font-size:16px; color:var(--color-text); 
    cursor:pointer; font-weight:500; border-radius:0 20px 20px 0;
    display:flex; align-items:center; gap:10px;
    transition: background var(--transition), color var(--transition);
}
body.dark #sidebar button { color:var(--color-text-dark);}
#sidebar button.active, #sidebar button:hover {
    background:var(--color-primary); color:#fff;
}
body.dark #sidebar button.active, body.dark #sidebar button:hover {
    background:var(--color-primary-dark); color:#fff;
}
#sidebar .material-symbols-outlined { font-size:22px;}

.main-content { margin-left:220px; padding:26px 16px 0 16px; transition:margin .3s;}
@media(max-width:900px){ #sidebar{position:static;width:100%;height:auto;} .main-content{margin-left:0;} }

.card {
    background:var(--color-card); box-shadow:var(--shadow); border-radius:var(--radius);
    padding:18px; margin-bottom:18px; transition:box-shadow var(--transition), background var(--transition), color var(--transition);
    display:flex; align-items:center; gap:18px;
    color: var(--color-text);
}
body.dark .card { background:var(--color-card-dark); color:var(--color-text-dark); }
.card:hover { box-shadow:0 6px 20px rgba(25,118,210,0.14);}
.card h3 {margin:0;font-size:18px;font-weight:500;}
.card p {margin:4px 0 0 0;color:var(--color-muted);}
body.dark .card p {color:var(--color-muted-dark);}
.card .material-symbols-outlined {font-size:32px;color:var(--color-primary);}
body.dark .card .material-symbols-outlined {color:var(--color-accent);}

.filters {display:flex;gap:10px;flex-wrap:wrap;}
.filter-btn {
    display:flex;align-items:center;gap:7px;
    padding:8px 15px;border:none;background:#e3f2fd;border-radius:18px;
    font-size:15px;cursor:pointer;transition:.2s;
    color: var(--color-primary);
}
.filter-btn.active, .filter-btn:hover { background:var(--color-primary); color:#fff;}
body.dark .filter-btn { background:#21243a; color:var(--color-accent);}
body.dark .filter-btn.active, body.dark .filter-btn:hover { background:var(--color-primary-dark); color:#fff;}
.filter-btn .material-symbols-outlined {font-size:18px;}

#searchBar {
    width:100%;padding:10px 16px;margin:12px 0;
    border-radius:20px;border:1px solid var(--color-border); font-size:15px;
    background:var(--color-bg); color:var(--color-text);
    transition:.2s;
}
body.dark #searchBar { background:var(--color-bg-dark); color:var(--color-text-dark); border-color:var(--color-border-dark); }

#fileArea {
    display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
    gap:22px;padding-bottom:48px;
}
.file-item {
    background:var(--color-card); box-shadow:var(--shadow); border-radius:var(--radius);
    display:flex;flex-direction:column;align-items:flex-start;gap:10px;
    padding:16px;transition:.2s; position:relative;
    cursor:pointer;
    outline:none;
    color: var(--color-text);
}
body.dark .file-item { background:var(--color-card-dark); color:var(--color-text-dark);}
.file-item.selected, .file-item:hover { background:#e3f2fd; color:var(--color-primary);}
body.dark .file-item.selected, body.dark .file-item:hover { background:#21243a; color:var(--color-accent);}
.file-icon {
    font-size:36px; margin-bottom:8px; color:var(--color-accent);
}
body.dark .file-icon { color:#4dd0e1;}
.file-info { width:100%;}
.file-name {font-weight:500;font-size:15px;word-break:break-all;}
.file-meta {font-size:12px;color:var(--color-muted);}
body.dark .file-meta {color:var(--color-muted-dark);}
.file-checkbox {
    position:absolute;top:12px;right:12px;transform:scale(1.3);
}

.fab {
    position:fixed;bottom:30px;right:30px;width:60px;height:60px;
    border-radius:50%;background:var(--color-primary);color:#fff;
    font-size:38px;display:flex;align-items:center;justify-content:center;
    box-shadow:0 4px 16px rgba(25,118,210,0.2);cursor:pointer;z-index:220;
    transition:background .2s;
}
.fab:hover { background:var(--color-primary-dark);}
body.dark .fab { background:var(--color-accent); color:var(--color-card-dark);}
body.dark .fab:hover { background:var(--color-primary-dark); color:#fff;}
#fabMenu, #fileOperations {
    position:fixed; right:30px; bottom:100px; background:var(--color-card); 
    border-radius:var(--radius); box-shadow:var(--shadow); display:none;
    flex-direction:column; width:200px; z-index:221; animation:fadeIn .3s;
    color: var(--color-text);
}
body.dark #fabMenu, body.dark #fileOperations{ background:var(--color-card-dark); color:var(--color-text-dark);}
#fabMenu button, #fileOperations button {
    padding:14px 18px; text-align:left; border:none; background:none;
    cursor:pointer; font-size:15px;transition:.2s;
    color: inherit;
}
#fabMenu button:hover, #fileOperations button:hover {background:#e3f2fd; color:var(--color-primary);}
body.dark #fabMenu button:hover, body.dark #fileOperations button:hover {background:#21243a; color:var(--color-accent);}

#previewModal {
    display:none; position:fixed;top:0;left:0;width:100vw;height:100vh;
    background:rgba(25,118,210,0.7); justify-content:center;align-items:center;z-index:999;
    animation:fadeIn .3s;
}
#previewContent {
    max-width:90vw;max-height:90vh;background:var(--color-card); 
    padding:34px 34px 18px 34px; border-radius:var(--radius);
    overflow:auto;box-shadow:0 8px 32px rgba(25,118,210,0.2);
    display:flex;flex-direction:column;align-items:center;
    color: var(--color-text);
}
body.dark #previewContent { background: var(--color-card-dark); color:var(--color-text-dark);}
#previewContent img, #previewContent iframe, #previewContent pre {max-width:100%;max-height:70vh;display:block;margin:0 auto;}
#previewContent h4 {margin:0 0 10px 0;}
#previewClose {
    position:absolute;top:22px;right:26px;font-size:28px;cursor:pointer;color:var(--color-primary);
    background:none;border:none;
}
body.dark #previewClose { color:var(--color-accent); }

#detailsModal {
    display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1003;background:rgba(0,0,0,0.35);justify-content:center;align-items:center;
}
#detailsContent {
    background:var(--color-card);padding:32px 42px;border-radius:16px;box-shadow:var(--shadow);min-width:300px;max-width:95vw;position:relative;
    color:var(--color-text);
}
body.dark #detailsContent {background:var(--color-card-dark);color:var(--color-text-dark);}

.toast {
    position:fixed;bottom:24px;left:50%;transform:translateX(-50%);
    background:var(--color-primary);color:#fff;padding:12px 24px;
    border-radius:25px;font-size:15px;box-shadow:0 4px 18px rgba(25,118,210,0.15);
    z-index:1002;display:none;animation:fadeIn .4s;
}
body.dark .toast { background: var(--color-primary-dark);}
::-webkit-scrollbar{width:12px;background:#eee;}
::-webkit-scrollbar-thumb{background:#ccc;border-radius:10px;}
body.dark ::-webkit-scrollbar{background:#232436;}
body.dark ::-webkit-scrollbar-thumb{background:#444;}
#breadcrumb {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    gap: 4px;
    font-size: 15px;
    overflow-x: auto;
    white-space: nowrap;
    color: var(--color-text);
}
body.dark #breadcrumb { color: var(--color-text-dark);}
#breadcrumb span {
    display: inline-block;
    color: var(--color-primary);
    transition: color .2s;
    cursor:pointer;
}
body.dark #breadcrumb span { color: var(--color-accent);}
#breadcrumb-wrapper {
    position:sticky;
    top:0;z-index:11;
    background:inherit;
    padding-bottom:6px;
}

/* === Extra update === */

/* Glowing title */
header.glow-title {
    font-size: 22px;
    font-weight: 600;
    color: var(--color-primary);
    text-shadow: 0 0 6px rgba(25, 118, 210, 0.6);
    letter-spacing: 0.5px;
}
body.dark header.glow-title {
    color: var(--color-accent);
    text-shadow: 0 0 6px rgba(0, 188, 212, 0.6);
}

/* Storage usage bar */
.storage-bar {
    width: 100%;
    height: 10px;
    border-radius: 6px;
    background: var(--color-border);
    overflow: hidden;
    margin: 10px 0;
}
.storage-bar .used {
    height: 100%;
    background: var(--color-primary);
    width: 40%;
    transition: width 0.3s;
}
body.dark .storage-bar { background: var(--color-border-dark); }
body.dark .storage-bar .used { background: var(--color-accent); }

/* Settings dropdown */
.settings-dropdown {
    position: absolute;
    top: var(--header-height);
    right: 16px;
    min-width: 180px;
    background: var(--color-card);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    display: none;
    flex-direction: column;
    z-index: 1005;
    color: var(--color-text);
}
.settings-dropdown.show { display: flex; }
body.dark .settings-dropdown {
    background: var(--color-card-dark);
    color: var(--color-text-dark);
}
.settings-dropdown button {
    padding: 12px 18px;
    background: none;
    border: none;
    text-align: left;
    cursor: pointer;
    font-size: 15px;
}
.settings-dropdown button:hover {
    background: #e3f2fd;
    color: var(--color-primary);
}
body.dark .settings-dropdown button:hover {
    background: #21243a;
    color: var(--color-accent);
}
