/* ==== Root Variables ==== */
:root {
  --primary-color: #1e88e5;
  --primary-dark: #1565c0;
  --accent-color: #00bcd4;
  --bg-color: #f9f9f9;
  --bg-dark: #1e1e2f;
  --card-bg: #fff;
  --card-dark: #2c2c3e;
  --text-color: #212121;
  --text-dark: #e0e0ff;
  --muted-color: #757575;
  --muted-dark: #b3b9cc;
  --border-color: #ddd;
  --border-dark: #3a3c52;
  --shadow: 0 3px 8px rgba(0,0,0,0.12);
  --radius: 16px;
  --transition: 0.3s;
  --header-height: 60px;
  --fab-size: 64px;
}

/* ==== Global Styles ==== */
body {
  margin:0;
  font-family: 'Roboto', sans-serif;
  background: var(--bg-color);
  color: var(--text-color);
  transition: background var(--transition), color var(--transition);
}
body.dark {
  background: var(--bg-dark);
  color: var(--text-dark);
}

/* ==== Header / AppBar ==== */
header, .filemanager-header {
  height: var(--header-height);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 16px;
  background: var(--card-bg);
  box-shadow: var(--shadow);
  position: sticky;
  top: 0;
  z-index: 100;
  border-bottom: 1px solid var(--border-color);
  transition: background var(--transition), color var(--transition);
}
body.dark header, body.dark .filemanager-header {
  background: var(--card-dark);
  border-bottom-color: var(--border-dark);
  color: var(--text-dark);
}
.header-left { display: flex; align-items: center; gap: 12px; }
.header-right { display: flex; align-items: center; gap: 10px; }
.header-right button {
  background: none;
  border: none;
  font-size: 22px;
  cursor: pointer;
  color: var(--primary-color);
  transition: all var(--transition);
}
body.dark .header-right button { color: var(--accent-color); }
.header-right button:hover { transform: scale(1.15); }

/* ==== Breadcrumb / Path ==== */
#breadcrumb-wrapper {
  display: flex;
  align-items: center;
  padding: 10px 16px;
  overflow-x: auto;
  gap: 4px;
  background: var(--bg-color);
}
body.dark #breadcrumb-wrapper { background: var(--bg-dark); }
#breadcrumb span {
  font-weight: 500;
  color: var(--primary-color);
  cursor: pointer;
  transition: color var(--transition);
}
body.dark #breadcrumb span { color: var(--accent-color); }
#breadcrumb span:hover { text-decoration: underline; }

/* ==== File / Folder Grid ==== */
#fileArea {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 16px;
  padding: 16px;
}
.file-item {
  background: var(--card-bg);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 16px;
  cursor: pointer;
  transition: all var(--transition);
  color: var(--text-color);
}
body.dark .file-item { background: var(--card-dark); color: var(--text-dark); }
.file-item:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.18);
}
.file-item.selected {
  border: 2px solid var(--primary-color);
  background: rgba(30,136,229,0.08);
}
.file-icon {
  font-size: 40px;
  margin-bottom: 8px;
  color: var(--accent-color);
}
body.dark .file-icon { color: #4dd0e1; }
.file-name { font-weight: 500; font-size: 14px; text-align: center; word-break: break-word; }
.file-meta { font-size: 12px; color: var(--muted-color); }
body.dark .file-meta { color: var(--muted-dark); }

/* ==== Floating Action Button ==== */
.fab {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: var(--fab-size);
  height: var(--fab-size);
  border-radius: 50%;
  background: var(--primary-color);
  color: #fff;
  font-size: 36px;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 6px 16px rgba(0,0,0,0.24);
  cursor: pointer;
  transition: background var(--transition), transform var(--transition);
  z-index: 200;
}
.fab:hover { background: var(--primary-dark); transform: scale(1.05); }
body.dark .fab { background: var(--accent-color); color: var(--card-dark); }
body.dark .fab:hover { background: var(--primary-dark); color: #fff; }

/* ==== FAB Menu / File Operations ==== */
#fabMenu, #fileOperations {
  position: fixed;
  right: 30px;
  bottom: 110px;
  background: var(--card-bg);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  display: none;
  flex-direction: column;
  width: 180px;
  overflow: hidden;
  z-index: 201;
}
body.dark #fabMenu, body.dark #fileOperations { background: var(--card-dark); }
#fabMenu button, #fileOperations button {
  padding: 14px;
  border: none;
  background: none;
  font-size: 15px;
  text-align: left;
  cursor: pointer;
  color: inherit;
  transition: all var(--transition);
}
#fabMenu button:hover, #fileOperations button:hover {
  background: rgba(30,136,229,0.12);
  color: var(--primary-color);
}
body.dark #fabMenu button:hover, body.dark #fileOperations button:hover {
  background: rgba(0,188,212,0.12);
  color: var(--accent-color);
}

/* ==== Modals ==== */
#previewModal, #detailsModal {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.45);
  justify-content: center;
  align-items: center;
  z-index: 300;
}
#previewContent, #detailsContent {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 24px 28px;
  max-width: 90vw;
  max-height: 80vh;
  overflow: auto;
  box-shadow: 0 8px 32px rgba(0,0,0,0.18);
  color: var(--text-color);
}
body.dark #previewContent, body.dark #detailsContent { background: var(--card-dark); color: var(--text-dark); }
#previewContent img, #previewContent iframe, #previewContent pre { max-width:100%; max-height:70vh; display:block; margin:0 auto; }
#previewClose {
  position: absolute; top:16px; right:16px;
  font-size:28px; cursor:pointer; color: var(--primary-color);
  background: none; border: none;
}
body.dark #previewClose { color: var(--accent-color); }

/* ==== Toast ==== */
.toast {
  position: fixed;
  bottom: 24px; left: 50%;
  transform: translateX(-50%);
  background: var(--primary-color);
  color: #fff;
  padding: 12px 24px;
  border-radius: 24px;
  font-size: 15px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.2);
  display: none;
  z-index: 400;
}
body.dark .toast { background: var(--primary-dark); }

/* ==== Scrollbar ==== */
::-webkit-scrollbar { width: 12px; background: #eee; }
::-webkit-scrollbar-thumb { background: #ccc; border-radius: 10px; }
body.dark ::-webkit-scrollbar { background: #232436; }
body.dark ::-webkit-scrollbar-thumb { background: #444; }

/* ==== Home Page ==== */
.home-main {
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}
.docard-title {
  font-size: 4rem;
  font-weight: 700;
  color: var(--text-color);
  text-shadow: 0 0 15px cyan, 0 0 30px blue;
  animation: thunder 2s infinite;
  margin-bottom: 2rem;
}
@keyframes thunder {
  0%,100% { text-shadow:0 0 15px cyan,0 0 30px blue; }
  50% { text-shadow:0 0 20px cyan,0 0 40px blue; }
}
.home-options { display:flex; gap:1.5rem; flex-wrap:wrap; }
.home-btn {
  padding: 1rem 2rem;
  border-radius: 50px;
  background: var(--card-bg);
  color: var(--text-color);
  font-weight: 500;
  text-decoration: none;
  box-shadow: 0 0 12px rgba(0,0,0,0.25);
  transition: all 0.3s ease;
}
.home-btn:hover { transform: translateY(-6px); box-shadow: 0 0 24px cyan; }
.top-toolbar { position: absolute; top: 1rem; right: 1rem; display:flex; gap:0.5rem; }
